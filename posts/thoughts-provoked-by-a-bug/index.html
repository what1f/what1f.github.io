<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/006888e039cb19be.css" crossorigin="anonymous" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/5343b87885033c09.css" crossorigin="anonymous" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-34f6785fee3c4072.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-51d8d8d03ff1ca8b.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-64de97e1ac338c06.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-deef63d82231dbe2.js" async="" crossorigin=""></script><script src="/_next/static/chunks/app/(articles)/layout-00d245b5a8171f02.js" async="" crossorigin=""></script><title>ä¸€ä¸ªbugå¼•å‘çš„æ€è€ƒï¼šå±å±±æ˜¯æ€ä¹ˆå½¢æˆçš„</title><link rel="manifest" href="/site.webmanifest"/><meta property="og:title" content="ä¸€ä¸ªbugå¼•å‘çš„æ€è€ƒï¼šå±å±±æ˜¯æ€ä¹ˆå½¢æˆçš„"/><meta property="og:image" content="http://localhost:3000/images/developer-1.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="ä¸€ä¸ªbugå¼•å‘çš„æ€è€ƒï¼šå±å±±æ˜¯æ€ä¹ˆå½¢æˆçš„"/><meta name="twitter:image" content="http://localhost:3000/images/developer-1.jpg"/><link rel="shortcut icon" href="/apple-touch-icon.png"/><link rel="icon" href="/favicon.ico?v=4"/><link rel="apple-touch-icon" href="/apple-touch-icon.png?v=4"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="anonymous" noModule=""></script></head><body class="!bg-eerie-black-1"><nav class="p-4 bg-eerie-black-2"><div class="flex items-center w-28 text-orange-yellow-crayola hover:text-light-gray-70 focus:text-light-gray-70 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" height="24" width="24" class="inline"><path fill-rule="evenodd" d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z" clip-rule="evenodd"></path></svg><span class="ml-1]">Back</span></div></nav><main class="markdown-body !bg-eerie-black-1 !text-white-2 box-border min-w-[200px] max-w-[980px] !my-0 !mx-auto p-[45px] pt-0 max-md:p-[15px] max-md:pt-0"><article><h1>MySQLå’ŒESæ•°æ®ä¸ä¸€è‡´</h1>
<p>é¡¹ç›®ä¸­ä½¿ç”¨äº†<code>ES</code>ä½œä¸ºæœç´¢å¼•æ“æ¥é¿å…æ…¢æŸ¥è¯¢ï¼Œ<code>MySQL</code>åˆ°<code>ES</code>çš„åŒæ­¥é€»è¾‘ä¸ºæ›´æ–°DBåå‘é€<code>Kafka</code>æ¶ˆæ¯ï¼Œå¦ä¸€ä¸ªæœåŠ¡æ¥æ¶ˆè´¹æ¶ˆæ¯å¹¶å†™å…¥<code>ES</code>ï¼Œæœ€è¿‘å‘ç°å¶å°”ä¼šå‡ºç°<code>MySQL</code>å’Œ<code>ES</code>çš„æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p>æœ€ç»ˆå®šä½åˆ°äº†ä¸€ä¸ªæ›´æ–°æ•°æ®çš„æ–¹æ³•<code>updateA</code>ï¼Œæ­¤æ–¹æ³•è¢«æ³¨è§£ä¸º<code>Transactional</code>ï¼Œå‰åŠéƒ¨åˆ†ä¸ºæ›´æ–°DBå’Œç¼“å­˜ç­‰ï¼Œæœ€åä¸€æ­¥æ˜¯å¼‚æ­¥åœ°å»å‘<code>kafka</code>æ›´æ–°<code>ES</code>ã€‚åç»­è¿­ä»£ä¸­ï¼Œ<code>updateB</code>å¼•ç”¨äº†è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”ç”±äº<code>updateB</code>ä¹Ÿæœ‰æ•°æ®éœ€è¦æ›´æ–°ï¼Œæ‰€ä»¥åœ¨<code>updateB</code>ä¸Šä¹ŸåŠ äº†<code>Transactional</code>çš„æ³¨è§£ã€‚</p>
<h2>é—®é¢˜å¤ç°</h2>
<p>ç®€å•è¿˜åŸä¸‹å‡ºç°é—®é¢˜çš„ä»£ç ï¼š</p>
<pre><div style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:hsl(220, 14%, 71%)">@Transactional</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">public</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">void</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">updateA</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>xxx</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// æ›´æ–°MySQL</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">updateDB</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>xxx</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// æ›´æ–°ç¼“å­˜</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">updateCache</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>xxx</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// å¼‚æ­¥å‘æ¶ˆæ¯æ›´æ–°ES</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">asyncSendMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>xxx</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span>
<span></span><span class="token annotation" style="color:hsl(220, 14%, 71%)">@Transactional</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">public</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">void</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">updateB</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// æ›´æ–°MySQL</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">updateDB</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>xxx</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// è°ƒç”¨å·²æœ‰æ–¹æ³•æ›´æ–°A</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">updateA</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>xxx</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// æ‰§è¡Œå…¶ä»–æ“ä½œ</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></div></pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç‚¹æ˜¯<code>asyncSendMessage</code>æ–¹æ³•é‡Œ<strong>ä¾èµ–äº†DBä¸­çš„æœ€æ–°æ•°æ®</strong>ï¼Œå…¶å®å¦‚æœçœŸå®çš„ä¸šåŠ¡ä»£ç å°±é•¿è¿™æ ·çš„è¯ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºé—®é¢˜çš„ï¼š<code>asyncSendMessage</code>æ˜¯å¼‚æ­¥çš„ï¼Œä¼šå’Œ<code>updateB</code>é‡Œä½™ä¸‹çš„æ“ä½œå¹¶è¡Œï¼Œå¹¶ä¸”<code>updateB</code>æ˜¯åŠ äº†<code>Transactional</code>æ³¨è§£çš„ï¼Œ<code>updateA</code>åŠ å…¥äº†<code>updateB</code>çš„äº‹åŠ¡ï¼Œæ­¤æ—¶<code>updateA</code>ä¸­DBçš„æ›´æ–°è¿˜æœªæäº¤ï¼Œæ‰€ä»¥å¼‚æ­¥å‘æ¶ˆæ¯çš„æ—¶å€™åªèƒ½è¯»åˆ°DBä¸­æ—§çš„æ•°æ®ï¼Œä»è€Œå¯¼è‡´æ›´æ–°åˆ°<code>ES</code>ä¸­çš„æ˜¯æ—§æ•°æ®ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¸ªé—®é¢˜æ˜¯å¶ç°çš„å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºå¼‚æ­¥å‘æ¶ˆæ¯è¿™ä¸ªæ–¹æ³•é‡Œå¹¶ä¸æ˜¯ç®€å•çš„ç›´æ¥å‘æ¶ˆæ¯ï¼Œè¿˜æœ‰å„ç§å‰ç½®çš„æ•°æ®ç»„è£…æµç¨‹ï¼Œå¦‚æœ<code>updateB</code>ä½™ä¸‹çš„ä»£ç æ‰§è¡Œå¾—å¤Ÿå¿«ï¼Œå°±èƒ½æŠ¢åœ¨<code>asyncSendMessage</code>ä¸­çš„<code>DB</code>æŸ¥è¯¢ä¹‹å‰æäº¤äº‹åŠ¡ï¼Œè¿™æ ·<code>asyncSendMessage</code>ä¸­æ‹¿åˆ°çš„å°±æ˜¯æ–°æ•°æ®äº†ã€‚</p>
<h2>æ’æŸ¥è¿‡ç¨‹ä¸­çš„å‘</h2>
<p>ä»ä¸Šé¢æ¥çœ‹ï¼Œè¿™ä¸ªé—®é¢˜å¥½åƒéå¸¸åŸºç¡€ï¼Œä¸”å®¹æ˜“å‘ç°ã€‚ä½†å®é™…æ’æŸ¥è¿™ä¸ªé—®é¢˜çš„æ—¶å€™è¿˜æ˜¯èŠ±äº†ä¸å°‘æ—¶é—´ï¼Œè¿™æ˜¯å› ä¸º<code>updateA</code>ä¸­çš„é€»è¾‘éå¸¸å¤æ‚ï¼Œå…‰æ˜¯æ–¹æ³•æœ¬èº«å°±å‡ ç™¾è¡Œä»£ç ï¼Œå¹¶ä¸”åµŒå¥—å¾—ä¹Ÿå¾ˆæ·±ï¼Œå¼‚æ­¥å‘æ¶ˆæ¯æ›´æ–°<code>ES</code>è¿™ä¸ªåŠ¨ä½œéšè—åœ¨äº†æœ€åº•å±‚ä¸€ä¸ªçœ‹ç€æ˜¯å…¬å…±æ–¹æ³•é‡Œï¼ˆå½“æ—¶ä¹Ÿè®¸æ˜¯æƒ³å‡å°‘åŒæ­¥<code>MySQL</code>åˆ°<code>ES</code>çš„é‡å¤ä»£ç ï¼Ÿï¼‰ã€‚æ‰€ä»¥åœ¨åç»­çš„è¿­ä»£å¼•å…¥<code>updateB</code>æ—¶ï¼Œ<code>updateB</code>è‡ªèº«ä¹Ÿå‘äº†æ›´æ–°<code>ES</code>çš„æ¶ˆæ¯ï¼Œè¿™å¯¼è‡´æ›´æ–°<code>ES</code>çš„æ¶ˆæ¯å‘é€äº†ä¸¤æ¬¡ï¼Œè€Œå¼‚æ­¥å‘é€çš„é‚£æ¬¡æœ‰ä¸€å®šçš„æ¦‚ç‡æ‹¿åˆ°çš„æ˜¯æ—§æ•°æ®ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°<code>ES</code>ä¸­æœ€ç»ˆä¿å­˜çš„æ˜¯æ—§æ•°æ®ã€‚ï¼ˆè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå‘çš„åœ°æ–¹ï¼Œå¼‚æ­¥å‘æ¶ˆæ¯çš„é€»è¾‘æ²¡æœ‰æŠŠtrace idåŒ…è¿›å»ï¼Œå¯¼è‡´æ‹¿ç€trace idçœ‹æ—¥å¿—çš„æ—¶å€™åªæŸ¥åˆ°å‘é€äº†ä¸€æ¬¡æ¶ˆæ¯ï¼Œä¸”å†…å®¹ä¸ºæœ€æ–°çš„ï¼Œéå¸¸å…·æœ‰è¿·æƒ‘æ€§ï¼ï¼ï¼ï¼‰ã€‚</p>
<h2>æ€»ç»“</h2>
<p>é—®é¢˜æœ¬èº«å…¶å®æ²¡ä»€ä¹ˆå¥½æ€»ç»“çš„ï¼Œå°±æ˜¯é”™è¯¯ä½¿ç”¨äº†å¼‚æ­¥&amp;äº‹åŠ¡ã€‚ä½†è¿™æ¬¡è¸©å‘å¼•å‘äº†æˆ‘çš„æ€è€ƒï¼š<strong>ä¸ºä»€ä¹ˆä¼šå†™å‡ºè¿™æ ·çš„ä»£ç ï¼Ÿ</strong></p>
<p>å‘å‡ºè¿™ä¸ªç–‘é—®å¹¶ä¸æ˜¯è¯´è¦æ‰¹æ–—å†™å‡ºè¿™æ ·ä»£ç çš„äººï¼Œè€Œæ˜¯æƒ³ä»è½¯ä»¶å·¥ç¨‹çš„è§’åº¦ä¸Šæ€è€ƒä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™æ ·çš„æƒ…å†µã€‚</p>
<ul>
<li>
<p><strong>å¯¹å·²æœ‰é€»è¾‘çš„å¤ç”¨</strong>ï¼šå¤ç”¨å‰äººç•™ä¸‹çš„ä»£ç æ—¶ï¼Œæ²¡æœ‰ä»”ç»†åœ°å»æ£€æŸ¥ä»£ç é€»è¾‘ï¼Œè€Œæ˜¯æ¯”è¾ƒç²—æš´çš„æ²¿ç”¨äº†ã€‚ä¸è¿‡æˆ‘è®¤ä¸ºï¼Œè™½ç„¶è¿™æ˜¯å¼•èµ·è¿™ä¸ªbugæœ€ç›´æ¥çš„åŸå› ï¼Œä½†å¹¶ä¸æ˜¯æœ€æ ¹æœ¬çš„åŸå› ï¼Œå› ä¸ºè¿™ä¸ª<code>updateA</code>æ–¹æ³•å®åœ¨å¤ªå¤æ‚äº†ï¼Œä¸»æ‰“ä¸€ä¸ªall in oneï¼ŒAä»¥åŠAå…³è”çš„ä¸šåŠ¡æ•°æ®æ›´æ–°&amp;ç¼“å­˜æ›´æ–°&amp;æ¶ˆæ¯å‘é€éƒ½åœ¨è¿™é‡Œé¢ï¼Œæƒ³è¦ç†æ¸…æ¥šå…¶å†…éƒ¨é”™ç»¼å¤æ‚çš„é€»è¾‘å¾—èŠ±éå¸¸å¤šçš„æ—¶é—´å’Œç²¾åŠ›ã€‚</p>
</li>
<li>
<p><strong>å¤æ‚ä»£ç çš„æ¶å¾ªç¯</strong>ï¼š<code>updateA</code>æ–¹æ³•é€»è¾‘å†™å¾—è¿‡äºå¤æ‚ï¼Œä¹Ÿè®¸å½“æ—¶å†™è¿™æ®µé€»è¾‘çš„äººè®¤ä¸ºè¿™ä¸ªæ–¹æ³•å°±æ˜¯ç»™éƒ¨åˆ†æ¥å£ä¸“ç”¨çš„ï¼Œè§‰å¾—å…¶ä»–åœ°æ–¹ä¸ç”¨å¤ç”¨è¿™ä¸ªæ–¹æ³•ã€‚ä½†ä¸šåŠ¡æ˜¯ä¼šä¸æ–­è¿­ä»£çš„ï¼Œè¿™æ®µä»£ç å¤§æ¦‚ç‡æ˜¯ç†Ÿæ‚‰ç›¸å…³ä¸šåŠ¡é€»è¾‘çš„å”¯ä¸€æ¸ é“ï¼Œå½“åç»­æ¥æ‰‹è¿™ä¸ªé¡¹ç›®çš„äººéœ€è¦æœ‰è¿™æ®µé€»è¾‘ç›¸å…³çš„ä¸šåŠ¡å¼€å‘æ—¶ï¼Œå°†ä¼šé¢ä¸´ä¸¤ä¸ªé€‰æ‹©ï¼š</p>
<ol>
<li>
<p>å¤ç”¨è¿™ä¸€æ®µä»£ç ï¼šæ„é€ å‡ºæ–¹æ³•<code>updateA</code>åºå¤§çš„å…¥å‚ï¼Œå¹¶å¯¹å†…éƒ¨éƒ¨åˆ†ä¸é€‚é…çš„é€»è¾‘æ‰“è¡¥ä¸æ¥å…¼å®¹æ–°çš„ä¸šåŠ¡é€»è¾‘</p>
</li>
<li>
<p>é‡æ„è¿™ä¸€æ®µä»£ç ï¼šå°†<code>updateA</code>ä»å¤´åˆ°å°¾æ¢³ç†ä¸€éï¼Œå¹¶å®ç°ä¸€å¥—æ–°çš„é€»è¾‘æ¥æä¾›æ‰©å±•æ€§ã€‚</p>
</li>
</ol>
<p>æˆ‘ç›¸ä¿¡ï¼Œåœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­é€‰æ‹©ç¬¬äºŒä¸ªé€‰é¡¹çš„å¯èƒ½æ€§å‡ ä¹ä¸º0ã€‚å› ä¸ºæˆæœ¬å’Œé£é™©éƒ½å¤ªé«˜äº†ï¼Œ<code>updateA</code>ä»¥åŠå…¶å†…éƒ¨åµŒå¥—çš„ä»£ç åŠ èµ·æ¥å°å‡ åƒè¡Œï¼Œå¹¶ä¸”é”™ç»¼å¤æ‚ã€‚ç†è§£å’Œé‡æ„çš„æˆæœ¬æé«˜ï¼Œå¹¶ä¸”ç†è§£æˆæœ¬é«˜ä¼šå¸¦æ¥å¦ä¸€ä¸ªé—®é¢˜ï¼Œä¸€äº›è§’è½çš„ç»†èŠ‚é€»è¾‘éå¸¸å®¹æ˜“è¢«é—æ¼ã€‚é€‰æ‹©é‡æ„å¼•å…¥äº†å·¨å¤§çš„æˆæœ¬å’Œé£é™©ï¼Œè¿™ä¸¤ç‚¹éƒ½æ˜¯ä¸šåŠ¡è¿­ä»£ä¸­ä¸è¢«å…è®¸çš„ï¼Œå¾ˆå°‘äººä¼šé€‰æ‹©è¿™æ ·ä¸€æ¡æå…¶æ›²æŠ˜ä¸”ä¼´éšäº†é£é™©ï¼Œä½†åˆéš¾ä»¥ä½“ç°ä¸šåŠ¡ä»·å€¼çš„è·¯ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åªèƒ½æƒ³æ–¹è®¾æ³•æ¥å¤ç”¨<code>updateA</code>ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ‹¿ç°æœ‰æ•°æ®æ„é€ å‡ºç¬¦åˆ<code>updateA</code>çš„å…¥å‚ï¼ˆå®é™…ä¸Šä»£ç é‡Œå·²ç»æœ‰äººè¿™æ ·å¹²äº†ï¼Œæ–°å¢äº†ä¸€ä¸ª<code>genUpdateAParams</code>çš„ä¸€ä¸ªæ–¹æ³•ç”¨äºæ„é€ ç¬¦åˆ<code>updateA</code>çš„å‚æ•°ï¼Œå…‰æ˜¯è¿™ä¸ªæ–¹æ³•éƒ½å¥½å‡ ç™¾è¡ŒğŸ¤¦ğŸ»ï¼‰ï¼Œç„¶åå†å¾€<code>updateA</code>ä»¥åŠå…¶åµŒå¥—çš„é€»è¾‘ä¸­æ‰“<code>if ... else</code>è¡¥ä¸æ¥é€‚é…æ–°çš„ä¸šåŠ¡è§„åˆ™ã€‚å¥½äº†ï¼Œä»£ç å·²ç»è¸ä¸Šäº†å¥”å¾€ğŸ’©å±±çš„ä¸å½’è·¯ï¼Œä¸‹ä¸€ä¸ªæ”¹åˆ°ç›¸å…³é€»è¾‘çš„æ—¶å€™å¾—å»ç†è§£<code>updateA</code>å’Œ<code>genUpdateAParams</code>è¿™ä¸¤åº§ğŸ’©å±±äº†ï¼Œäºæ˜¯å¼€å§‹åœ¨<code>updateA</code>å’Œ<code>genUpdateAParams</code>ä¸­åŒæ—¶æ‰“è¡¥ä¸ï¼Œç”šè‡³åˆå¤šåŠ ä¸€åº§ã€‚ã€‚ã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬åè¿‡æ¥æƒ³ä¸€æƒ³ï¼Œå¦‚æœ<code>updateA</code>æ–¹æ³•çœŸçš„åƒæˆ‘ä»¬ç¤ºä¾‹ä¸­çš„é‚£æ ·ç®€æ´æ˜äº†ï¼Œåé¢çš„è¿­ä»£æ˜¯ä¸æ˜¯æ›´ä¸å®¹æ˜“å†™å‡ºéš¾ä»¥ç†è§£å’Œç»´æŠ¤çš„ä»£ç å‘¢ï¼Ÿ</p>
<p>æˆ‘æƒ³ç»“æœæ˜¯æ˜¾ç„¶çš„ï¼Œåœ¨å®ç°<code>updateB</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“åœ°å¤ç”¨<code>updateA</code>ä¸­çš„<code>updateDB</code>å’Œ<code>updateCache</code>ï¼Œç„¶åå‘é€è‡ªå·±æ‰€éœ€è¦çš„æ¶ˆæ¯ä»¥åŠåç»­çš„é€»è¾‘ï¼Œè€Œä¸æ˜¯è¢«è¿«å¤ç”¨æ•´ä¸ª<code>updateA</code>ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šæœ‰<code>genUpdateAParams</code>çš„å‡ºç°äº†ã€‚</p>
<p><strong>ç»“è¯­ï¼š</strong> å†™å‡ºç®€æ´ã€æ¸…æ™°çš„ä»£ç æ˜¯éå¸¸é‡è¦çš„ï¼Œå°‘åšä¸€ç‚¹å¦¥åï¼Œå°½é‡å†™å¥½æ¯ä¸€æ®µä»£ç ï¼Œå“ªæ€•è¿™ä¸ªæ–¹æ³•åé¢çœŸçš„æ°¸è¿œä¸ä¼šè¢«å¤ç”¨æˆ–è€…æ”¹åŠ¨ã€‚æ¯•ç«Ÿä»£ç æ›´å¤šæ—¶å€™æ˜¯ç”¨æ¥è¯»çš„ï¼Œç®€æ´æ¸…æ™°çš„ä»£ç å¯ä»¥è®©å…¶ä»–äººæ›´å®¹æ˜“ç†è§£å…¶èƒŒåçš„ä¸šåŠ¡é€»è¾‘ï¼ˆbtwï¼Œè¿™ä¸ªå…¶ä»–äººä¹Ÿå¯èƒ½æ˜¯å‡ ä¸ªæœˆåçš„è‡ªå·±ğŸ‘€ï¼‰ã€‚</p></article></main><script src="/_next/static/chunks/webpack-34f6785fee3c4072.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"0:\"$L1\"\n"])</script><script>self.__next_f.push([1,"2:HL[\"/_next/static/css/006888e039cb19be.css\",\"style\",{\"crossOrigin\":\"\"}]\n3:HL[\"/_next/static/css/5343b87885033c09.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[7690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[2175,[\"70\",\"static/chunks/app/(articles)/layout-00d245b5a8171f02.js\"],\"\"]\n10:I[8955,[],\"\"]\n8:[\"slug\",\"thoughts-provoked-by-a-bug\",\"d\"]\nb:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"}\nc:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"}\nd:{\"display\":\"inline-block\"}\ne:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\n11:[]\n"])</script><script>self.__next_f.push([1,"1:[null,[\"$\",\"$L4\",null,{\"buildId\":\"4sFLY0YSptLMsIZg55uJf\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/thoughts-provoked-by-a-bug/\",\"initialTree\":[\"\",{\"children\":[\"(articles)\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"thoughts-provoked-by-a-bug\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"thoughts-provoked-by-a-bug\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true]}],\"initialSeedData\":[\"\",{\"children\":[\"(articles)\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"thoughts-provoked-by-a-bug\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(articles)\",\"children\",\"posts\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5343b87885033c09.css\",\"precedence\":\"next\",\"crossOrigin\":\"anonymous\"}]]}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(articles)\",\"children\",\"posts\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"$La\",null,{\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(articles)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}],\"params\":{}}],null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$b\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$c\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$d\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$e\",\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/006888e039cb19be.css\",\"precedence\":\"next\",\"crossOrigin\":\"anonymous\"}]]}]],\"initialHead\":[false,\"$Lf\"],\"globalErrorComponent\":\"$10\",\"missingSlots\":\"$W11\"}]]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"main\",null,{\"className\":\"markdown-body !bg-eerie-black-1 !text-white-2 box-border min-w-[200px] max-w-[980px] !my-0 !mx-auto p-[45px] pt-0 max-md:p-[15px] max-md:pt-0\",\"children\":[\"$\",\"article\",null,{\"children\":[[\"$\",\"h1\",\"h1-0\",{\"children\":\"MySQLå’ŒESæ•°æ®ä¸ä¸€è‡´\"}],\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[\"é¡¹ç›®ä¸­ä½¿ç”¨äº†\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"ä½œä¸ºæœç´¢å¼•æ“æ¥é¿å…æ…¢æŸ¥è¯¢ï¼Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"MySQL\"}],\"åˆ°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"çš„åŒæ­¥é€»è¾‘ä¸ºæ›´æ–°DBåå‘é€\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"Kafka\"}],\"æ¶ˆæ¯ï¼Œå¦ä¸€ä¸ªæœåŠ¡æ¥æ¶ˆè´¹æ¶ˆæ¯å¹¶å†™å…¥\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"ï¼Œæœ€è¿‘å‘ç°å¶å°”ä¼šå‡ºç°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"MySQL\"}],\"å’Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"çš„æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚\"]}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"æœ€ç»ˆå®šä½åˆ°äº†ä¸€ä¸ªæ›´æ–°æ•°æ®çš„æ–¹æ³•\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ï¼Œæ­¤æ–¹æ³•è¢«æ³¨è§£ä¸º\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"Transactional\"}],\"ï¼Œå‰åŠéƒ¨åˆ†ä¸ºæ›´æ–°DBå’Œç¼“å­˜ç­‰ï¼Œæœ€åä¸€æ­¥æ˜¯å¼‚æ­¥åœ°å»å‘\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"kafka\"}],\"æ›´æ–°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"ã€‚åç»­è¿­ä»£ä¸­ï¼Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"å¼•ç”¨äº†è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”ç”±äº\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"ä¹Ÿæœ‰æ•°æ®éœ€è¦æ›´æ–°ï¼Œæ‰€ä»¥åœ¨\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"ä¸Šä¹ŸåŠ äº†\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"Transactional\"}],\"çš„æ³¨è§£ã€‚\"]}],\"\\n\",[\"$\",\"h2\",\"h2-0\",{\"children\":\"é—®é¢˜å¤ç°\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":\"ç®€å•è¿˜åŸä¸‹å‡ºç°é—®é¢˜çš„ä»£ç ï¼š\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"div\",null,{\"style\":{\"background\":\"hsl(220, 13%, 18%)\",\"color\":\"hsl(220, 14%, 71%)\",\"textShadow\":\"0 1px rgba(0, 0, 0, 0.3)\",\"fontFamily\":\"\\\"Fira Code\\\", \\\"Fira Mono\\\", Menlo, Consolas, \\\"DejaVu Sans Mono\\\", monospace\",\"direction\":\"ltr\",\"textAlign\":\"left\",\"whiteSpace\":\"pre\",\"wordSpacing\":\"normal\",\"wordBreak\":\"normal\",\"lineHeight\":\"1.5\",\"MozTabSize\":\"2\",\"OTabSize\":\"2\",\"tabSize\":\"2\",\"WebkitHyphens\":\"none\",\"MozHyphens\":\"none\",\"msHyphens\":\"none\",\"hyphens\":\"none\",\"padding\":\"1em\",\"margin\":\"0.5em 0\",\"overflow\":\"auto\",\"borderRadius\":\"0.3em\"},\"children\":[\"$\",\"code\",null,{\"className\":\"language-java\",\"style\":{\"background\":\"hsl(220, 13%, 18%)\",\"color\":\"hsl(220, 14%, 71%)\",\"textShadow\":\"0 1px rgba(0, 0, 0, 0.3)\",\"fontFamily\":\"\\\"Fira Code\\\", \\\"Fira Mono\\\", Menlo, Consolas, \\\"DejaVu Sans Mono\\\", monospace\",\"direction\":\"ltr\",\"textAlign\":\"left\",\"whiteSpace\":\"pre\",\"wordSpacing\":\"normal\",\"wordBreak\":\"normal\",\"lineHeight\":\"1.5\",\"MozTabSize\":\"2\",\"OTabSize\":\"2\",\"tabSize\":\"2\",\"WebkitHyphens\":\"none\",\"MozHyphens\":\"none\",\"msHyphens\":\"none\",\"hyphens\":\"none\"},\"children\":[false,[[\"$\",\"span\",\"code-segement0\",{\"className\":\"token annotation\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"@Transactional\"]}],[\"$\",\"span\",\"code-segement1\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement2\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement3\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(286, 60%, 67%)\"},\"children\":[\"public\"]}],[\"$\",\"span\",\"code-segement4\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement5\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(286, 60%, 67%)\"},\"children\":[\"void\"]}],[\"$\",\"span\",\"code-segement6\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement7\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(207, 82%, 66%)\"},\"children\":[\"updateA\"]}],[\"$\",\"span\",\"code-segement8\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"(\"]}],[\"$\",\"span\",\"code-segement9\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"xxx\"]}],[\"$\",\"span\",\"code-segement10\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\")\"]}],[\"$\",\"span\",\"code-segement11\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement12\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"{\"]}],[\"$\",\"span\",\"code-segement13\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement14\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement15\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 10%, 40%)\",\"fontStyle\":\"italic\"},\"children\":[\"// æ›´æ–°MySQL\"]}],[\"$\",\"span\",\"code-segement16\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement17\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement18\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(207, 82%, 66%)\"},\"children\":[\"updateDB\"]}],[\"$\",\"span\",\"code-segement19\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"(\"]}],[\"$\",\"span\",\"code-segement20\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"xxx\"]}],[\"$\",\"span\",\"code-segement21\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\")\"]}],[\"$\",\"span\",\"code-segement22\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\";\"]}],[\"$\",\"span\",\"code-segement23\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement24\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement25\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 10%, 40%)\",\"fontStyle\":\"italic\"},\"children\":[\"// æ›´æ–°ç¼“å­˜\"]}],[\"$\",\"span\",\"code-segement26\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement27\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement28\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(207, 82%, 66%)\"},\"children\":[\"updateCache\"]}],[\"$\",\"span\",\"code-segement29\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"(\"]}],[\"$\",\"span\",\"code-segement30\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"xxx\"]}],[\"$\",\"span\",\"code-segement31\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\")\"]}],[\"$\",\"span\",\"code-segement32\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\";\"]}],[\"$\",\"span\",\"code-segement33\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement34\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement35\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 10%, 40%)\",\"fontStyle\":\"italic\"},\"children\":[\"// å¼‚æ­¥å‘æ¶ˆæ¯æ›´æ–°ES\"]}],[\"$\",\"span\",\"code-segement36\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement37\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement38\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(207, 82%, 66%)\"},\"children\":[\"asyncSendMessage\"]}],[\"$\",\"span\",\"code-segement39\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"(\"]}],[\"$\",\"span\",\"code-segement40\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"xxx\"]}],[\"$\",\"span\",\"code-segement41\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\")\"]}],[\"$\",\"span\",\"code-segement42\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\";\"]}],[\"$\",\"span\",\"code-segement43\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement44\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement45\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"}\"]}],[\"$\",\"span\",\"code-segement46\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],\"\\n\",[\"$\",\"span\",\"code-segement48\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement49\",{\"className\":\"token annotation\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"@Transactional\"]}],[\"$\",\"span\",\"code-segement50\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement51\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement52\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(286, 60%, 67%)\"},\"children\":[\"public\"]}],[\"$\",\"span\",\"code-segement53\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement54\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(286, 60%, 67%)\"},\"children\":[\"void\"]}],[\"$\",\"span\",\"code-segement55\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement56\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(207, 82%, 66%)\"},\"children\":[\"updateB\"]}],[\"$\",\"span\",\"code-segement57\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"(\"]}],[\"$\",\"span\",\"code-segement58\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\")\"]}],[\"$\",\"span\",\"code-segement59\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\" \"]}],[\"$\",\"span\",\"code-segement60\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"{\"]}],[\"$\",\"span\",\"code-segement61\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement62\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement63\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 10%, 40%)\",\"fontStyle\":\"italic\"},\"children\":[\"// æ›´æ–°MySQL\"]}],[\"$\",\"span\",\"code-segement64\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement65\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement66\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(207, 82%, 66%)\"},\"children\":[\"updateDB\"]}],[\"$\",\"span\",\"code-segement67\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"(\"]}],[\"$\",\"span\",\"code-segement68\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"xxx\"]}],[\"$\",\"span\",\"code-segement69\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\")\"]}],[\"$\",\"span\",\"code-segement70\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\";\"]}],[\"$\",\"span\",\"code-segement71\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement72\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement73\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 10%, 40%)\",\"fontStyle\":\"italic\"},\"children\":[\"// è°ƒç”¨å·²æœ‰æ–¹æ³•æ›´æ–°A\"]}],[\"$\",\"span\",\"code-segement74\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement75\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement76\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(207, 82%, 66%)\"},\"children\":[\"updateA\"]}],[\"$\",\"span\",\"code-segement77\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"(\"]}],[\"$\",\"span\",\"code-segement78\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"xxx\"]}],[\"$\",\"span\",\"code-segement79\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\")\"]}],[\"$\",\"span\",\"code-segement80\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\";\"]}],[\"$\",\"span\",\"code-segement81\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement82\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement83\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 10%, 40%)\",\"fontStyle\":\"italic\"},\"children\":[\"// æ‰§è¡Œå…¶ä»–æ“ä½œ\"]}],[\"$\",\"span\",\"code-segement84\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement85\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"    \"]}],[\"$\",\"span\",\"code-segement86\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\".\"]}],[\"$\",\"span\",\"code-segement87\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\".\"]}],[\"$\",\"span\",\"code-segement88\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\".\"]}],[\"$\",\"span\",\"code-segement89\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\\n\"]}],[\"$\",\"span\",\"code-segement90\",{\"className\":\"$undefined\",\"style\":{},\"children\":[\"\"]}],[\"$\",\"span\",\"code-segement91\",{\"className\":\"token\",\"style\":{\"color\":\"hsl(220, 14%, 71%)\"},\"children\":[\"}\"]}]]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":[\"è¿™é‡Œæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç‚¹æ˜¯\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"asyncSendMessage\"}],\"æ–¹æ³•é‡Œ\",[\"$\",\"strong\",\"strong-0\",{\"children\":\"ä¾èµ–äº†DBä¸­çš„æœ€æ–°æ•°æ®\"}],\"ï¼Œå…¶å®å¦‚æœçœŸå®çš„ä¸šåŠ¡ä»£ç å°±é•¿è¿™æ ·çš„è¯ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºé—®é¢˜çš„ï¼š\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"asyncSendMessage\"}],\"æ˜¯å¼‚æ­¥çš„ï¼Œä¼šå’Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"é‡Œä½™ä¸‹çš„æ“ä½œå¹¶è¡Œï¼Œå¹¶ä¸”\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"æ˜¯åŠ äº†\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"Transactional\"}],\"æ³¨è§£çš„ï¼Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"åŠ å…¥äº†\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"çš„äº‹åŠ¡ï¼Œæ­¤æ—¶\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ä¸­DBçš„æ›´æ–°è¿˜æœªæäº¤ï¼Œæ‰€ä»¥å¼‚æ­¥å‘æ¶ˆæ¯çš„æ—¶å€™åªèƒ½è¯»åˆ°DBä¸­æ—§çš„æ•°æ®ï¼Œä»è€Œå¯¼è‡´æ›´æ–°åˆ°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"ä¸­çš„æ˜¯æ—§æ•°æ®ã€‚\"]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":[\"ä¸ºä»€ä¹ˆè¿™ä¸ªé—®é¢˜æ˜¯å¶ç°çš„å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºå¼‚æ­¥å‘æ¶ˆæ¯è¿™ä¸ªæ–¹æ³•é‡Œå¹¶ä¸æ˜¯ç®€å•çš„ç›´æ¥å‘æ¶ˆæ¯ï¼Œè¿˜æœ‰å„ç§å‰ç½®çš„æ•°æ®ç»„è£…æµç¨‹ï¼Œå¦‚æœ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"ä½™ä¸‹çš„ä»£ç æ‰§è¡Œå¾—å¤Ÿå¿«ï¼Œå°±èƒ½æŠ¢åœ¨\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"asyncSendMessage\"}],\"ä¸­çš„\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"DB\"}],\"æŸ¥è¯¢ä¹‹å‰æäº¤äº‹åŠ¡ï¼Œè¿™æ ·\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"asyncSendMessage\"}],\"ä¸­æ‹¿åˆ°çš„å°±æ˜¯æ–°æ•°æ®äº†ã€‚\"]}],\"\\n\",[\"$\",\"h2\",\"h2-1\",{\"children\":\"æ’æŸ¥è¿‡ç¨‹ä¸­çš„å‘\"}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":[\"ä»ä¸Šé¢æ¥çœ‹ï¼Œè¿™ä¸ªé—®é¢˜å¥½åƒéå¸¸åŸºç¡€ï¼Œä¸”å®¹æ˜“å‘ç°ã€‚ä½†å®é™…æ’æŸ¥è¿™ä¸ªé—®é¢˜çš„æ—¶å€™è¿˜æ˜¯èŠ±äº†ä¸å°‘æ—¶é—´ï¼Œè¿™æ˜¯å› ä¸º\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ä¸­çš„é€»è¾‘éå¸¸å¤æ‚ï¼Œå…‰æ˜¯æ–¹æ³•æœ¬èº«å°±å‡ ç™¾è¡Œä»£ç ï¼Œå¹¶ä¸”åµŒå¥—å¾—ä¹Ÿå¾ˆæ·±ï¼Œå¼‚æ­¥å‘æ¶ˆæ¯æ›´æ–°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"è¿™ä¸ªåŠ¨ä½œéšè—åœ¨äº†æœ€åº•å±‚ä¸€ä¸ªçœ‹ç€æ˜¯å…¬å…±æ–¹æ³•é‡Œï¼ˆå½“æ—¶ä¹Ÿè®¸æ˜¯æƒ³å‡å°‘åŒæ­¥\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"MySQL\"}],\"åˆ°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"çš„é‡å¤ä»£ç ï¼Ÿï¼‰ã€‚æ‰€ä»¥åœ¨åç»­çš„è¿­ä»£å¼•å…¥\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"æ—¶ï¼Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"è‡ªèº«ä¹Ÿå‘äº†æ›´æ–°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"çš„æ¶ˆæ¯ï¼Œè¿™å¯¼è‡´æ›´æ–°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"çš„æ¶ˆæ¯å‘é€äº†ä¸¤æ¬¡ï¼Œè€Œå¼‚æ­¥å‘é€çš„é‚£æ¬¡æœ‰ä¸€å®šçš„æ¦‚ç‡æ‹¿åˆ°çš„æ˜¯æ—§æ•°æ®ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"ES\"}],\"ä¸­æœ€ç»ˆä¿å­˜çš„æ˜¯æ—§æ•°æ®ã€‚ï¼ˆè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå‘çš„åœ°æ–¹ï¼Œå¼‚æ­¥å‘æ¶ˆæ¯çš„é€»è¾‘æ²¡æœ‰æŠŠtrace idåŒ…è¿›å»ï¼Œå¯¼è‡´æ‹¿ç€trace idçœ‹æ—¥å¿—çš„æ—¶å€™åªæŸ¥åˆ°å‘é€äº†ä¸€æ¬¡æ¶ˆæ¯ï¼Œä¸”å†…å®¹ä¸ºæœ€æ–°çš„ï¼Œéå¸¸å…·æœ‰è¿·æƒ‘æ€§ï¼ï¼ï¼ï¼‰ã€‚\"]}],\"\\n\",[\"$\",\"h2\",\"h2-2\",{\"children\":\"æ€»ç»“\"}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":[\"é—®é¢˜æœ¬èº«å…¶å®æ²¡ä»€ä¹ˆå¥½æ€»ç»“çš„ï¼Œå°±æ˜¯é”™è¯¯ä½¿ç”¨äº†å¼‚æ­¥\u0026äº‹åŠ¡ã€‚ä½†è¿™æ¬¡è¸©å‘å¼•å‘äº†æˆ‘çš„æ€è€ƒï¼š\",[\"$\",\"strong\",\"strong-0\",{\"children\":\"ä¸ºä»€ä¹ˆä¼šå†™å‡ºè¿™æ ·çš„ä»£ç ï¼Ÿ\"}]]}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":\"å‘å‡ºè¿™ä¸ªç–‘é—®å¹¶ä¸æ˜¯è¯´è¦æ‰¹æ–—å†™å‡ºè¿™æ ·ä»£ç çš„äººï¼Œè€Œæ˜¯æƒ³ä»è½¯ä»¶å·¥ç¨‹çš„è§’åº¦ä¸Šæ€è€ƒä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™æ ·çš„æƒ…å†µã€‚\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"å¯¹å·²æœ‰é€»è¾‘çš„å¤ç”¨\"}],\"ï¼šå¤ç”¨å‰äººç•™ä¸‹çš„ä»£ç æ—¶ï¼Œæ²¡æœ‰ä»”ç»†åœ°å»æ£€æŸ¥ä»£ç é€»è¾‘ï¼Œè€Œæ˜¯æ¯”è¾ƒç²—æš´çš„æ²¿ç”¨äº†ã€‚ä¸è¿‡æˆ‘è®¤ä¸ºï¼Œè™½ç„¶è¿™æ˜¯å¼•èµ·è¿™ä¸ªbugæœ€ç›´æ¥çš„åŸå› ï¼Œä½†å¹¶ä¸æ˜¯æœ€æ ¹æœ¬çš„åŸå› ï¼Œå› ä¸ºè¿™ä¸ª\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"æ–¹æ³•å®åœ¨å¤ªå¤æ‚äº†ï¼Œä¸»æ‰“ä¸€ä¸ªall in oneï¼ŒAä»¥åŠAå…³è”çš„ä¸šåŠ¡æ•°æ®æ›´æ–°\u0026ç¼“å­˜æ›´æ–°\u0026æ¶ˆæ¯å‘é€éƒ½åœ¨è¿™é‡Œé¢ï¼Œæƒ³è¦ç†æ¸…æ¥šå…¶å†…éƒ¨é”™ç»¼å¤æ‚çš„é€»è¾‘å¾—èŠ±éå¸¸å¤šçš„æ—¶é—´å’Œç²¾åŠ›ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"å¤æ‚ä»£ç çš„æ¶å¾ªç¯\"}],\"ï¼š\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"æ–¹æ³•é€»è¾‘å†™å¾—è¿‡äºå¤æ‚ï¼Œä¹Ÿè®¸å½“æ—¶å†™è¿™æ®µé€»è¾‘çš„äººè®¤ä¸ºè¿™ä¸ªæ–¹æ³•å°±æ˜¯ç»™éƒ¨åˆ†æ¥å£ä¸“ç”¨çš„ï¼Œè§‰å¾—å…¶ä»–åœ°æ–¹ä¸ç”¨å¤ç”¨è¿™ä¸ªæ–¹æ³•ã€‚ä½†ä¸šåŠ¡æ˜¯ä¼šä¸æ–­è¿­ä»£çš„ï¼Œè¿™æ®µä»£ç å¤§æ¦‚ç‡æ˜¯ç†Ÿæ‚‰ç›¸å…³ä¸šåŠ¡é€»è¾‘çš„å”¯ä¸€æ¸ é“ï¼Œå½“åç»­æ¥æ‰‹è¿™ä¸ªé¡¹ç›®çš„äººéœ€è¦æœ‰è¿™æ®µé€»è¾‘ç›¸å…³çš„ä¸šåŠ¡å¼€å‘æ—¶ï¼Œå°†ä¼šé¢ä¸´ä¸¤ä¸ªé€‰æ‹©ï¼š\"]}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[\"å¤ç”¨è¿™ä¸€æ®µä»£ç ï¼šæ„é€ å‡ºæ–¹æ³•\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"åºå¤§çš„å…¥å‚ï¼Œå¹¶å¯¹å†…éƒ¨éƒ¨åˆ†ä¸é€‚é…çš„é€»è¾‘æ‰“è¡¥ä¸æ¥å…¼å®¹æ–°çš„ä¸šåŠ¡é€»è¾‘\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[\"é‡æ„è¿™ä¸€æ®µä»£ç ï¼šå°†\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ä»å¤´åˆ°å°¾æ¢³ç†ä¸€éï¼Œå¹¶å®ç°ä¸€å¥—æ–°çš„é€»è¾‘æ¥æä¾›æ‰©å±•æ€§ã€‚\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"æˆ‘ç›¸ä¿¡ï¼Œåœ¨å®é™…çš„ä¸šåŠ¡å¼€å‘ä¸­é€‰æ‹©ç¬¬äºŒä¸ªé€‰é¡¹çš„å¯èƒ½æ€§å‡ ä¹ä¸º0ã€‚å› ä¸ºæˆæœ¬å’Œé£é™©éƒ½å¤ªé«˜äº†ï¼Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ä»¥åŠå…¶å†…éƒ¨åµŒå¥—çš„ä»£ç åŠ èµ·æ¥å°å‡ åƒè¡Œï¼Œå¹¶ä¸”é”™ç»¼å¤æ‚ã€‚ç†è§£å’Œé‡æ„çš„æˆæœ¬æé«˜ï¼Œå¹¶ä¸”ç†è§£æˆæœ¬é«˜ä¼šå¸¦æ¥å¦ä¸€ä¸ªé—®é¢˜ï¼Œä¸€äº›è§’è½çš„ç»†èŠ‚é€»è¾‘éå¸¸å®¹æ˜“è¢«é—æ¼ã€‚é€‰æ‹©é‡æ„å¼•å…¥äº†å·¨å¤§çš„æˆæœ¬å’Œé£é™©ï¼Œè¿™ä¸¤ç‚¹éƒ½æ˜¯ä¸šåŠ¡è¿­ä»£ä¸­ä¸è¢«å…è®¸çš„ï¼Œå¾ˆå°‘äººä¼šé€‰æ‹©è¿™æ ·ä¸€æ¡æå…¶æ›²æŠ˜ä¸”ä¼´éšäº†é£é™©ï¼Œä½†åˆéš¾ä»¥ä½“ç°ä¸šåŠ¡ä»·å€¼çš„è·¯ã€‚\"]}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":[\"æ‰€ä»¥æˆ‘ä»¬åªèƒ½æƒ³æ–¹è®¾æ³•æ¥å¤ç”¨\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ‹¿ç°æœ‰æ•°æ®æ„é€ å‡ºç¬¦åˆ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"çš„å…¥å‚ï¼ˆå®é™…ä¸Šä»£ç é‡Œå·²ç»æœ‰äººè¿™æ ·å¹²äº†ï¼Œæ–°å¢äº†ä¸€ä¸ª\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"genUpdateAParams\"}],\"çš„ä¸€ä¸ªæ–¹æ³•ç”¨äºæ„é€ ç¬¦åˆ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"çš„å‚æ•°ï¼Œå…‰æ˜¯è¿™ä¸ªæ–¹æ³•éƒ½å¥½å‡ ç™¾è¡ŒğŸ¤¦ğŸ»ï¼‰ï¼Œç„¶åå†å¾€\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ä»¥åŠå…¶åµŒå¥—çš„é€»è¾‘ä¸­æ‰“\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"if ... else\"}],\"è¡¥ä¸æ¥é€‚é…æ–°çš„ä¸šåŠ¡è§„åˆ™ã€‚å¥½äº†ï¼Œä»£ç å·²ç»è¸ä¸Šäº†å¥”å¾€ğŸ’©å±±çš„ä¸å½’è·¯ï¼Œä¸‹ä¸€ä¸ªæ”¹åˆ°ç›¸å…³é€»è¾‘çš„æ—¶å€™å¾—å»ç†è§£\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"å’Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"genUpdateAParams\"}],\"è¿™ä¸¤åº§ğŸ’©å±±äº†ï¼Œäºæ˜¯å¼€å§‹åœ¨\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"å’Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"genUpdateAParams\"}],\"ä¸­åŒæ—¶æ‰“è¡¥ä¸ï¼Œç”šè‡³åˆå¤šåŠ ä¸€åº§ã€‚ã€‚ã€‚\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":[\"æˆ‘ä»¬åè¿‡æ¥æƒ³ä¸€æƒ³ï¼Œå¦‚æœ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"æ–¹æ³•çœŸçš„åƒæˆ‘ä»¬ç¤ºä¾‹ä¸­çš„é‚£æ ·ç®€æ´æ˜äº†ï¼Œåé¢çš„è¿­ä»£æ˜¯ä¸æ˜¯æ›´ä¸å®¹æ˜“å†™å‡ºéš¾ä»¥ç†è§£å’Œç»´æŠ¤çš„ä»£ç å‘¢ï¼Ÿ\"]}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":[\"æˆ‘æƒ³ç»“æœæ˜¯æ˜¾ç„¶çš„ï¼Œåœ¨å®ç°\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateB\"}],\"çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ˜“åœ°å¤ç”¨\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ä¸­çš„\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateDB\"}],\"å’Œ\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateCache\"}],\"ï¼Œç„¶åå‘é€è‡ªå·±æ‰€éœ€è¦çš„æ¶ˆæ¯ä»¥åŠåç»­çš„é€»è¾‘ï¼Œè€Œä¸æ˜¯è¢«è¿«å¤ç”¨æ•´ä¸ª\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"updateA\"}],\"ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šæœ‰\",[\"$\",\"code\",null,{\"className\":\"$undefined\",\"children\":\"genUpdateAParams\"}],\"çš„å‡ºç°äº†ã€‚\"]}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"ç»“è¯­ï¼š\"}],\" å†™å‡ºç®€æ´ã€æ¸…æ™°çš„ä»£ç æ˜¯éå¸¸é‡è¦çš„ï¼Œå°‘åšä¸€ç‚¹å¦¥åï¼Œå°½é‡å†™å¥½æ¯ä¸€æ®µä»£ç ï¼Œå“ªæ€•è¿™ä¸ªæ–¹æ³•åé¢çœŸçš„æ°¸è¿œä¸ä¼šè¢«å¤ç”¨æˆ–è€…æ”¹åŠ¨ã€‚æ¯•ç«Ÿä»£ç æ›´å¤šæ—¶å€™æ˜¯ç”¨æ¥è¯»çš„ï¼Œç®€æ´æ¸…æ™°çš„ä»£ç å¯ä»¥è®©å…¶ä»–äººæ›´å®¹æ˜“ç†è§£å…¶èƒŒåçš„ä¸šåŠ¡é€»è¾‘ï¼ˆbtwï¼Œè¿™ä¸ªå…¶ä»–äººä¹Ÿå¯èƒ½æ˜¯å‡ ä¸ªæœˆåçš„è‡ªå·±ğŸ‘€ï¼‰ã€‚\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"ä¸€ä¸ªbugå¼•å‘çš„æ€è€ƒï¼šå±å±±æ˜¯æ€ä¹ˆå½¢æˆçš„\"}],[\"$\",\"link\",\"3\",{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"ä¸€ä¸ªbugå¼•å‘çš„æ€è€ƒï¼šå±å±±æ˜¯æ€ä¹ˆå½¢æˆçš„\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:image\",\"content\":\"http://localhost:3000/images/developer-1.jpg\"}],[\"$\",\"meta\",\"6\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:title\",\"content\":\"ä¸€ä¸ªbugå¼•å‘çš„æ€è€ƒï¼šå±å±±æ˜¯æ€ä¹ˆå½¢æˆçš„\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:image\",\"content\":\"http://localhost:3000/images/developer-1.jpg\"}],[\"$\",\"link\",\"9\",{\"rel\":\"shortcut icon\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"link\",\"10\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?v=4\"}],[\"$\",\"link\",\"11\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png?v=4\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>